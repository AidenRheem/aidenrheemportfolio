import{h as g,D as q,P as B,W as D,al as H,am as Y,an as z,ao as G,A as w,ap as K}from"./46PHf2lK.js";import{i as W,c as j,d as F,n as J,a as Q}from"./BmC-ciwT.js";import{t as X,c as Z,s as m}from"./CiHQZm9d.js";function x(s,e){if(e){const t=document.body;s.autofocus=!0,D(()=>{document.activeElement===t&&s.focus()})}}function us(s){g&&q(s)!==null&&B(s)}let T=!1;function ss(){T||(T=!0,document.addEventListener("reset",s=>{Promise.resolve().then(()=>{var e;if(!s.defaultPrevented)for(const t of s.target.elements)(e=t.__on_r)==null||e.call(t)})},{capture:!0}))}function ts(s,e,t,_,l,o){var n=s.__className;if(g||n!==t||n===void 0){var d=X(t,_,o);(!g||d!==s.getAttribute("class"))&&(d==null?s.removeAttribute("class"):e?s.className=d:s.setAttribute("class",d)),s.__className=t}else if(o&&l!==o)for(var v in o){var a=!!o[v];(l==null||a!==!!l[v])&&s.classList.toggle(v,a)}return o}const A=Symbol("class"),b=Symbol("style"),M=Symbol("is custom element"),C=Symbol("is html");function os(s){if(g){var e=!1,t=()=>{if(!e){if(e=!0,s.hasAttribute("value")){var _=s.value;y(s,"value",null),s.value=_}if(s.hasAttribute("checked")){var l=s.checked;y(s,"checked",null),s.checked=l}}};s.__on_r=t,K(t),ss()}}function es(s,e){e?s.hasAttribute("selected")||s.setAttribute("selected",""):s.removeAttribute("selected")}function y(s,e,t,_){var l=$(s);g&&(l[e]=s.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&s.nodeName==="LINK")||l[e]!==(l[e]=t)&&(e==="loading"&&(s[H]=t),t==null?s.removeAttribute(e):typeof t!="string"&&O(s).includes(e)?s[e]=t:s.setAttribute(e,t))}function fs(s,e,t,_,l=!1){var o=$(s),n=o[M],d=!o[C];let v=g&&n;v&&w(!1);var a=e||{},S=s.tagName==="OPTION";for(var k in e)k in t||(t[k]=null);t.class?t.class=Z(t.class):t[A]&&(t.class=null),t[b]&&(t.style??(t.style=null));var P=O(s);for(const i in t){let r=t[i];if(S&&i==="value"&&r==null){s.value=s.__value="",a[i]=r;continue}if(i==="class"){var R=s.namespaceURI==="http://www.w3.org/1999/xhtml";ts(s,R,r,_,e==null?void 0:e[A],t[A]),a[i]=r,a[A]=t[A];continue}if(i==="style"){m(s,r,e==null?void 0:e[b],t[b]),a[i]=r,a[b]=t[b];continue}var L=a[i];if(r!==L){a[i]=r;var E=i[0]+i[1];if(E!=="$$")if(E==="on"){const f={},h="$$"+i;let u=i.slice(2);var N=Q(u);if(W(u)&&(u=u.slice(0,-7),f.capture=!0),!N&&L){if(r!=null)continue;s.removeEventListener(u,a[h],f),a[h]=null}if(r!=null)if(N)s[`__${u}`]=r,F([u]);else{let U=function(V){a[i].call(this,V)};a[h]=j(u,s,U,f)}else N&&(s[`__${u}`]=void 0)}else if(i==="style")y(s,i,r);else if(i==="autofocus")x(s,!!r);else if(!n&&(i==="__value"||i==="value"&&r!=null))s.value=s.__value=r;else if(i==="selected"&&S)es(s,r);else{var c=i;d||(c=J(c));var p=c==="defaultValue"||c==="defaultChecked";if(r==null&&!n&&!p)if(o[i]=null,c==="value"||c==="checked"){let f=s;const h=e===void 0;if(c==="value"){let u=f.defaultValue;f.removeAttribute(c),f.defaultValue=u,f.value=f.__value=h?u:null}else{let u=f.defaultChecked;f.removeAttribute(c),f.defaultChecked=u,f.checked=h?u:!1}}else s.removeAttribute(i);else p||P.includes(c)&&(n||typeof r!="string")?s[c]=r:typeof r!="function"&&y(s,c,r)}}}return v&&w(!0),a}function $(s){return s.__attributes??(s.__attributes={[M]:s.nodeName.includes("-"),[C]:s.namespaceURI===Y})}var I=new Map;function O(s){var e=I.get(s.nodeName);if(e)return e;I.set(s.nodeName,e=[]);for(var t,_=s,l=Element.prototype;l!==_;){t=G(_);for(var o in t)t[o].set&&e.push(o);_=z(_)}return e}export{fs as a,us as b,ts as c,os as r,y as s};
